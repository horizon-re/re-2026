{"doc_id": "b5029907-76a4-5928-acfc-f156a82a42fc", "req_id": "REQ-151", "sent_id": "REQ-151::s001", "order": 1, "text": "**Root Cause Analysis (RCA) â€“ Negative CPU Metric Due to Counter Reset and Rate Calculation Bug**\n\nA -17% CPU usage anomaly was observed, traced back to two compounding issues: a metric counter reset and an underlying bug in the Prometheus rate calculation.", "char_start": 0, "char_end": 257, "splitter": "merged", "token_count": 53, "verified_by_other": true}
{"doc_id": "b5029907-76a4-5928-acfc-f156a82a42fc", "req_id": "REQ-151", "sent_id": "REQ-151::s002", "order": 2, "text": "When a monitored service was restarted, its CPU counter reset to zero, which is expected behavior.", "char_start": 258, "char_end": 356, "splitter": "merged", "token_count": 19, "verified_by_other": true}
{"doc_id": "b5029907-76a4-5928-acfc-f156a82a42fc", "req_id": "REQ-151", "sent_id": "REQ-151::s003", "order": 3, "text": "However, the Prometheus `rate()` function used in our query did not properly account for this reset, resulting in an artificially negative delta between samples.", "char_start": 357, "char_end": 518, "splitter": "merged", "token_count": 31, "verified_by_other": true}
{"doc_id": "b5029907-76a4-5928-acfc-f156a82a42fc", "req_id": "REQ-151", "sent_id": "REQ-151::s004", "order": 4, "text": "This caused the system to report a negative CPU utilization, which is mathematically invalid but not automatically filtered out by default PromQL behavior.", "char_start": 519, "char_end": 676, "splitter": "merged", "token_count": 26, "verified_by_other": true}
{"doc_id": "b5029907-76a4-5928-acfc-f156a82a42fc", "req_id": "REQ-151", "sent_id": "REQ-151::s005", "order": 5, "text": "A patch has been applied to address this issue.", "char_start": 676, "char_end": 723, "splitter": "merged", "token_count": 10, "verified_by_other": true}
{"doc_id": "b5029907-76a4-5928-acfc-f156a82a42fc", "req_id": "REQ-151", "sent_id": "REQ-151::s006", "order": 6, "text": "First, we added a `clamp_min(0, rate(...))`", "char_start": 724, "char_end": 767, "splitter": "merged", "token_count": 14, "verified_by_other": true}
{"doc_id": "b5029907-76a4-5928-acfc-f156a82a42fc", "req_id": "REQ-151", "sent_id": "REQ-151::s007", "order": 7, "text": "operation in the PromQL expression to ensure that all computed rates are bounded at a minimum of zero.", "char_start": 768, "char_end": 870, "splitter": "merged", "token_count": 19, "verified_by_other": true}
{"doc_id": "b5029907-76a4-5928-acfc-f156a82a42fc", "req_id": "REQ-151", "sent_id": "REQ-151::s008", "order": 8, "text": "This change prevents negative values from being returned regardless of counter behavior.", "char_start": 871, "char_end": 959, "splitter": "merged", "token_count": 13, "verified_by_other": true}
{"doc_id": "b5029907-76a4-5928-acfc-f156a82a42fc", "req_id": "REQ-151", "sent_id": "REQ-151::s009", "order": 9, "text": "Additionally, a safeguard was added in the exporter logic to clamp any preprocessed CPU rates to zero if a reset is detected.", "char_start": 960, "char_end": 1087, "splitter": "merged", "token_count": 25, "verified_by_other": true}
{"doc_id": "b5029907-76a4-5928-acfc-f156a82a42fc", "req_id": "REQ-151", "sent_id": "REQ-151::s010", "order": 10, "text": "To prevent recurrence, a dashboard alert was introduced to monitor for any negative values in critical metrics.", "char_start": 1087, "char_end": 1198, "splitter": "merged", "token_count": 19, "verified_by_other": true}
{"doc_id": "b5029907-76a4-5928-acfc-f156a82a42fc", "req_id": "REQ-151", "sent_id": "REQ-151::s011", "order": 11, "text": "This allows for early detection of similar anomalies and ensures timely remediation before impacting downstream systems.", "char_start": 1199, "char_end": 1319, "splitter": "merged", "token_count": 17, "verified_by_other": true}
