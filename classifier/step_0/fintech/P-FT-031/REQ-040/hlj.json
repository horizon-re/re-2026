{
  "doc_id": "73921b3e-2bd4-5588-9287-874154e2206b",
  "req_key": "fintech::P-FT-031::REQ-040",
  "req_id": "REQ-040",
  "domain": "fintech",
  "prompt_id": "P-FT-031",
  "source": {
    "raw_path": "02_raw_requirements/fintech/P-FT-031/req-040_raw.txt",
    "refined_path": "03_refined_json_normalized/fintech/P-FT-031/req-040_refined.json",
    "origin": "both"
  },
  "text": "Implement nightly auto-conversion of rewards point balances under 1 FX-adjusted USD to cash, applying local currency rounding rules. Credit resulting amounts to users’ wallets using a ledger entry of type='micro_cashout'. Additionally, expose a user-facing setting `autoCashout=true` in account preferences to enable or disable this feature. Ensure the process respects real-time FX rates and updates user balances accordingly while maintaining full auditability in the ledger.",
  "structured_data": [
    {
      "id": "REQ-040-HLJ-Chunk_1-Item_1-v1.0",
      "domain": "fintech",
      "summary": "Auto-convert sub-1 USD point balances to cash nightly",
      "priority": "High",
      "tags": [
        "auto_conversion",
        "rewards_points",
        "nightly_job"
      ],
      "subdomain": "wallets",
      "difficulty": 3,
      "additionalNotes": "Nightly job must scan all accounts for sub-1 FX-adjusted USD balances.",
      "source_hlj_id": "REQ 001-001",
      "domain_id": "P-FT-031"
    },
    {
      "id": "REQ-040-HLJ-Chunk_1-Item_2-v1.0",
      "domain": "fintech",
      "summary": "Apply local currency rounding rules during conversion",
      "priority": "High",
      "tags": [
        "currency_conversion",
        "rounding_rules",
        "localization"
      ],
      "subdomain": "wallets",
      "difficulty": 2,
      "additionalNotes": "Conversion must honor local rounding conventions to avoid regulatory or UX issues.",
      "source_hlj_id": "REQ 001-002",
      "domain_id": "P-FT-031"
    },
    {
      "id": "REQ-040-HLJ-Chunk_1-Item_3-v1.0",
      "domain": "fintech",
      "summary": "Credit cash to wallets using ledger entry type='micro_cashout'",
      "priority": "High",
      "tags": [
        "wallet_credit",
        "ledger_entry",
        "micro_cashout"
      ],
      "subdomain": "wallets",
      "difficulty": 3,
      "additionalNotes": "Credit actions must use a specific ledger entry type for traceability and reporting.",
      "source_hlj_id": "REQ 001-003",
      "domain_id": "P-FT-031"
    },
    {
      "id": "REQ-040-HLJ-Chunk_1-Item_4-v1.0",
      "domain": "fintech",
      "summary": "Expose autoCashout=true setting in user preferences",
      "priority": "High",
      "tags": [
        "user_settings",
        "toggle",
        "autocashout"
      ],
      "subdomain": "account_settings",
      "difficulty": 2,
      "additionalNotes": "Users must be able to opt in/out of the auto-cashout feature via UI.",
      "source_hlj_id": "REQ 001-004",
      "domain_id": "P-FT-031"
    },
    {
      "id": "REQ-040-HLJ-Chunk_1-Item_5-v1.0",
      "domain": "fintech",
      "summary": "Use real-time FX rates for conversion",
      "priority": "Medium",
      "tags": [
        "fx_rates",
        "real_time",
        "conversion_accuracy"
      ],
      "subdomain": "currency_exchange",
      "difficulty": 3,
      "additionalNotes": "origin: implied – Real-time FX use is necessary to reflect accurate sub-USD balances.",
      "source_hlj_id": "REQ 001-005",
      "domain_id": "P-FT-031"
    },
    {
      "id": "REQ-040-HLJ-Chunk_1-Item_6-v1.0",
      "domain": "fintech",
      "summary": "Maintain full auditability of ledger transactions",
      "priority": "Low",
      "tags": [
        "audit",
        "ledger",
        "transaction_logging"
      ],
      "subdomain": "compliance",
      "difficulty": 2,
      "additionalNotes": "origin: implied – Ensures traceability and regulatory compliance for micro cashouts.",
      "source_hlj_id": "REQ 001-006",
      "domain_id": "P-FT-031"
    }
  ]
}